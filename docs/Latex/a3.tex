% !TEX encoding = UTF-8
%Koma article
\documentclass[fontsize=12pt,paper=letter,twoside]{scrartcl}
\usepackage{float}
\usepackage{listings}
\usepackage{makecell}

%Standard Pre-amble
\input{sty/defns.tex}
%Useful definitions
%\newcommand{\mv}[1]{\textit{m\_#1}}
%\newcommand{\cv}[1]{\textit{c\_#1}}
%\newcommand{\degree}[1]{^{\circ}\mathrm{#1}}
%\newcommand{\comment}[1]{{\footnotesize \quad\texttt{--}\textrm{#1}}}


%For Code Stylings
\usepackage{listings}
\usepackage{color}
\usepackage{lineno}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

% Set the header
\ihead[]{\small EECS4313 Assignment-3}


%%%%%%%%%%%%Enter your names here%%%%%%%%
\author{Student Name | Student Number | EECS Account
\and \textbf{Edward Vaisman | 212849857 | eddyv}
\and \textbf{Robin Bandzar | 212200531 | cse23028}
\and \textbf{Kirusanth Thiruchelvam | 212918298 | kirusant}
\and \textbf{Sadman Sakib Hasan | 212497509 | cse23152}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\date{\today} % Display a given date or no date

\begin{document}
\title{EECS 4313 Assignment 3 \\Data Flow Testing, Slice-Based Testing and Mutation Testing}
\maketitle

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tableofcontents


\newpage


\section{BORG Calendar}

\subsection{Slice Testing}

\subsubsection{Chosen Method for Testing}

\begin{itemize}
\item \textbf{Class}: \emph{net.sf.borg.common.DateUtil.java}
\item \textbf{Method}: \emph{minuteString(int mins)}
\item \textbf{Method Description}:
This method generate a human reable string for a particular number of minutes. It returns the string in terms of hours or minutes or both hours and mintues.
\begin{itemize}
\item \textbf{mins} - The first argument is of type integer.
\end{itemize}
\end{itemize}

\noindent Following is the code of the \emph{minuteString} method:
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    int hours = mins / 60;
    int minsPast = mins % 60;
    
    String minutesString;
    String hoursString;
    
    if (hours > 1) {
      hoursString = hours + " " + Resource.getResourceString("Hours");
    } else if (hours > 0) {
      hoursString = hours + " " + Resource.getResourceString("Hour");
    } else {
      hoursString = "";
    }

    if (minsPast > 1) {
      minutesString = minsPast + " " + Resource.getResourceString("Minutes");
    } else if (minsPast > 0) {
      minutesString = minsPast + " " + Resource.getResourceString("Minute");
    } else if (hours >= 1) {
      minutesString = "";
    } else {
      minutesString = minsPast + " " + Resource.getResourceString("Minutes");
    }

    // space between hours and minutes
    if (!hoursString.equals("") && !minutesString.equals(""))
      minutesString = " " + minutesString;

    return hoursString + minutesString;
  }
\end{lstlisting}

\subsubsection{Forward Slicing}


\subsubsection{Backward Slicing}
Backward slicing is in the form of S(v,n) where the slices are code fragments that contribute to variable v at statement n. Slices are only done for primitive values and their All-defs and P-use paths defined in the data flow analysis part.\\

S(hours, 102)
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    int hours = mins / 60;
\end{lstlisting}  


S(minsPast, 103)
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    
    int minsPast = mins % 60;
\end{lstlisting} 
The following test case covers the two slices listed above and covers the All-def, P-use for \emph{mins}.
\begin{code}
  assertEquals("1 Hour",DateUtil.minuteString(60));
\end{code}

\break
S(hours, 108)
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    int hours = mins / 60;
    
    


    
    if (hours > 1) {
    }
\end{lstlisting}


S(hours, 120)
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    int hours = mins / 60;
    int minsPast = mins % 60;
    
    
    
    
    
     
    
     
    
     
    

    if (minsPast > 1) {
      
    } else if (minsPast > 0) {
      
    } else if (hours >= 1) {
    }
\end{lstlisting}
The following test case covers the previous two slices for \emph{hours}.
\begin{code}
assertEquals("3 Hours",DateUtil.minuteString(180));
\end{code}

S(minsPast, 118)
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    
    int minsPast = mins % 60;
    
    
    
    
    
     
    
     
    
     
    

    if (minsPast > 1) {
      
    } else if (minsPast > 0) {
      
    
    }
\end{lstlisting}
The following test case covers the previous slice for \emph{minsPast}.
\begin{code}
assertEquals("1 Hour 1 Minute",DateUtil.minuteString(61));
\end{code}

S(hours, 110)
\begin{lstlisting}[numbers=left,firstnumber=100]
  public static String minuteString(int mins) {
    
    int hours = mins / 60;
    
    
    
    
    
    if (hours > 1) {
      
    } else if (hours > 0) {
    }
\end{lstlisting}
The following test case covers the previous slice for \emph{hours}.
\begin{code}
assertEquals("1 Hour",DateUtil.minuteString(60));
\end{code}

This concludes all the backward slices related to the All-defs and P-uses of the primitive types in the \emph{minuteString} function.

\subsubsection{Dynamic Slicing}


\begin{itemize}
\item The data flow analysis you performed and the calculation of the coverage metrics. You must
show which test cases are responsible for which dc-paths.
\item A description of the test cases you added to improve coverage. If your coverage was already high,
discuss how your testing was able to achieve this.
\item The slices that you identified and the percentage of slices that your testing covers. You must
show which test cases are responsible for which slices.
\item A description of the test cases you added to improve slice coverage. If your coverage was
already high, discuss how your testing was able to achieve this.
\item Evaluate the effectiveness of your test cases using mutation testing. Discuss and address any
issues if you have found in your written report.
\item Attaching bug reports if bugs are discovered using your testing methods. You should use the
same bug report format as in Assignment 1. Do not file these bug reports to the projectâ€™s bug
report system.
\item An appendix with the specification of the methods you are testing
\end{itemize}

\section{JPetStore}

\begin{itemize}
\item The test scenarios that you have created;
\item The request rates and the duration of the load tests;
\item The analysis of your load tests and the description of any problems that you have found (if there
are any).
\end{itemize}

\end{document}
